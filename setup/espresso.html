
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the DexGuard tool">
      
      
        <meta name="author" content="Guardsquare">
      
      
      
        <link rel="prev" href="repository.html">
      
      
        <link rel="next" href="cordovaplugin.html">
      
      
      <link rel="icon" href="../img/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.7">
    
    
      
        <title>Espresso - DexGuard</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family='',+'Helvetica+Neue',+Helvetica,+Arial,+sans-serif:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"'', 'Helvetica Neue', Helvetica, Arial, sans-serif";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/guardsquare.css">
    
      <link rel="stylesheet" href="../css/extra2.css">
    
      <link rel="stylesheet" href="../css/text-alignment.css">
    
      <link rel="stylesheet" href="../css/admonition-styles.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NMXSB9');</script>
<!-- End Google Tag Manager -->


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="guardsquare" data-md-color-accent="guardsquare">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#using-the-dexguard-gradle-plugin" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMXSB9"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
   
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="DexGuard" class="md-header__button md-logo" aria-label="DexGuard" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DexGuard
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Espresso
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    

    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="DexGuard" class="md-nav__button md-logo" aria-label="DexGuard" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    DexGuard
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Quick Start
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guided Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manual Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../video-tutorials/menu.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Video Tutorial
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="downloading-dexguard.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downloading DexGuard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="gradle-plugin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gradle Plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="standalone.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standalone
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="upgrading.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="repository.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maven Repository
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Espresso
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="espresso.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Espresso
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-the-dexguard-gradle-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      Using the DexGuard Gradle plugin
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-dexguard-in-standalone-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Using DexGuard in standalone mode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using DexGuard in standalone mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-your-application" class="md-nav__link">
    <span class="md-ellipsis">
      Build your application
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-the-test-application" class="md-nav__link">
    <span class="md-ellipsis">
      Build the test application
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-your-application-with-dexguard-and-print-out-the-mapping-file" class="md-nav__link">
    <span class="md-ellipsis">
      Process your application with DexGuard and print out the mapping file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-the-test-application-using-dexguard-and-the-espresso-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Process the test application using DexGuard and the Espresso configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-the-application-using-the-generated-artefacts" class="md-nav__link">
    <span class="md-ellipsis">
      Test the application using the generated artefacts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Test the application using the generated artefacts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-both-applications-to-a-test-device-or-emulator" class="md-nav__link">
    <span class="md-ellipsis">
      Install both applications to a test device or emulator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execute-the-espresso-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Execute the Espresso tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uninstall-the-applications" class="md-nav__link">
    <span class="md-ellipsis">
      Uninstall the applications
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-code" class="md-nav__link">
    <span class="md-ellipsis">
      Test code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      Default configurations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Default configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dexguard-espressopro" class="md-nav__link">
    <span class="md-ellipsis">
      dexguard-espresso.pro
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dexguard-espresso-no-resource-optimizationspro" class="md-nav__link">
    <span class="md-ellipsis">
      dexguard-espresso-no-resource-optimizations.pro
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dexguard-espresso-aggressive-optimizationspro" class="md-nav__link">
    <span class="md-ellipsis">
      dexguard-espresso-aggressive-optimizations.pro
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dexguard-espresso-safe-optimizationspro" class="md-nav__link">
    <span class="md-ellipsis">
      dexguard-espresso-safe-optimizations.pro
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cordovaplugin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cordova Plugin
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../defaultconfigurations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Default Configs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../annotations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference Guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Features
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RASP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            RASP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rasp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/hardware.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OS Integrity
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../threatcast.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ThreatCast
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/attestation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    App Attestation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/malware.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Malware Protection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protection.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code & Data Protection
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Languages & Platforms
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Languages & Platforms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/java.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/kotlin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/hermes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hermes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    JavaScript
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            JavaScript
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_2" >
        
          
          <label class="md-nav__link" for="__nav_8_4_2" id="__nav_8_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_2">
            <span class="md-nav__icon md-icon"></span>
            Quick Start
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/quickstart/dexguardintegration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DexGuard Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/quickstart/bestpractices.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practices
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_3" >
        
          
          <label class="md-nav__link" for="__nav_8_4_3" id="__nav_8_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_3">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/configuration/configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Configuration Options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/configuration/filters.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/configuration/assumptions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assumptions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4_4" id="__nav_8_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Features
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_4">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/shrinking.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shrinking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_4_2" >
        
          
          <label class="md-nav__link" for="__nav_8_4_4_2" id="__nav_8_4_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Protection
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_4_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_4_2">
            <span class="md-nav__icon md-icon"></span>
            Protection
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_4_2_1" >
        
          
          <label class="md-nav__link" for="__nav_8_4_4_2_1" id="__nav_8_4_4_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_4_4_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_4_2_1">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_4_2_1_1" >
        
          
          <label class="md-nav__link" for="__nav_8_4_4_2_1_1" id="__nav_8_4_4_2_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Strings
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="6" aria-labelledby="__nav_8_4_4_2_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_4_2_1_1">
            <span class="md-nav__icon md-icon"></span>
            Strings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/stringencryption.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Encryption
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/stringarray.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Array Transformation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_4_2_2" >
        
          
          <label class="md-nav__link" for="__nav_8_4_4_2_2" id="__nav_8_4_4_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Code
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_4_4_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_4_2_2">
            <span class="md-nav__icon md-icon"></span>
            Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/nameobfuscation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Name Obfuscation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/functionencryption.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function Encryption
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/numberobfuscation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Number Obfuscation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/arithmeticobfuscation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arithmetic Obfuscation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/controlflowobfuscation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Control Flow Obfuscation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/propertydeclarationobfuscation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Property Declaration Obfuscation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/propertyaccessobfuscation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Property Access Obfuscation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/shuffling.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shuffling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_4_2_3" >
        
          
          <label class="md-nav__link" for="__nav_8_4_4_2_3" id="__nav_8_4_4_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Environment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_4_4_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_4_2_3">
            <span class="md-nav__icon md-icon"></span>
            Environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/features/debuggerobstruction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugger Obstruction
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_5" >
        
          
          <label class="md-nav__link" for="__nav_8_4_5" id="__nav_8_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_5">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/trouble-shooting/knownlimitations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Known Issues and Limitations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_6" >
        
          
          <label class="md-nav__link" for="__nav_8_4_6" id="__nav_8_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_6">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/javascript/about/release-notes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5" >
        
          
          <label class="md-nav__link" for="__nav_8_5" id="__nav_8_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Flutter
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5">
            <span class="md-nav__icon md-icon"></span>
            Flutter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/flutter/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/flutter/start-android.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/flutter/building-on-windows.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Windows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/flutter/configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/flutter/filters.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/flutter/callbacks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Callbacks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languages_platforms/flutter/troubleshooting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    In Depth
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            In Depth
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/protectionreport/protectionreport.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Protection Report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/pgo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profile-Guided Obfuscation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/examples.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/refcard.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference Card
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/optimizations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimizations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/attributes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Attributes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/loggingremoval.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging Removal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/verification.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Verification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/runtime.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Runtime Library
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/codepush.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Push
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indepth/apkexpansionfiles.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APK Expansion Files
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Addons
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Addons
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../addons/ndk.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NDK
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/androidstudio.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Android Studio Plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/libraryrulesgenerator.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Library Rules Generator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/retrace.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ReTrace
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/knownissues.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Known Issues
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/reportingissues.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reporting Issues
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/releasenotes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/systemrequirements.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/license.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-the-dexguard-gradle-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      Using the DexGuard Gradle plugin
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-dexguard-in-standalone-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Using DexGuard in standalone mode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using DexGuard in standalone mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-your-application" class="md-nav__link">
    <span class="md-ellipsis">
      Build your application
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-the-test-application" class="md-nav__link">
    <span class="md-ellipsis">
      Build the test application
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-your-application-with-dexguard-and-print-out-the-mapping-file" class="md-nav__link">
    <span class="md-ellipsis">
      Process your application with DexGuard and print out the mapping file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-the-test-application-using-dexguard-and-the-espresso-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Process the test application using DexGuard and the Espresso configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-the-application-using-the-generated-artefacts" class="md-nav__link">
    <span class="md-ellipsis">
      Test the application using the generated artefacts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Test the application using the generated artefacts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-both-applications-to-a-test-device-or-emulator" class="md-nav__link">
    <span class="md-ellipsis">
      Install both applications to a test device or emulator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execute-the-espresso-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Execute the Espresso tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uninstall-the-applications" class="md-nav__link">
    <span class="md-ellipsis">
      Uninstall the applications
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-code" class="md-nav__link">
    <span class="md-ellipsis">
      Test code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      Default configurations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Default configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dexguard-espressopro" class="md-nav__link">
    <span class="md-ellipsis">
      dexguard-espresso.pro
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dexguard-espresso-no-resource-optimizationspro" class="md-nav__link">
    <span class="md-ellipsis">
      dexguard-espresso-no-resource-optimizations.pro
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dexguard-espresso-aggressive-optimizationspro" class="md-nav__link">
    <span class="md-ellipsis">
      dexguard-espresso-aggressive-optimizations.pro
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dexguard-espresso-safe-optimizationspro" class="md-nav__link">
    <span class="md-ellipsis">
      dexguard-espresso-safe-optimizations.pro
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Espresso</h1>

<p>Automated testing is a very useful tool to verify your application works as
expected. As the hardening that DexGuard applies can change the structure of
your code you may want to use these automated tests to verify everything still
works as it should. Espresso is a testing framework that can do just that, it
is provided by Google and can easily be configured in your Gradle project. </p>
<p>A test build for an unprocessed application doesn't always work with its
processed version. For this reason the test has to be processed by DexGuard
using a specific configuration.</p>
<h2 id="using-the-dexguard-gradle-plugin">Using the DexGuard Gradle plugin<a class="headerlink" href="#using-the-dexguard-gradle-plugin" title="Permanent link">&para;</a></h2>
<p>When using the <a href="gradle-plugin.html">DexGuard Gradle plugin</a>, a new build configuration
needs to be added to the <code>dexguard</code> block in your <code>build.gradle</code> file. This configuration
needs to be the same as the <code>testBuildType</code> set in the <code>android</code> block.</p>
<p>You can find a sample configuration below:
<div class="language-groovy highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">dexguard</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="o">...</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="n">configurations</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">        </span><span class="o">...</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">        </span><span class="n">releaseTest</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">            </span><span class="c1">// Include the same configuration as the release configuration</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">            </span><span class="n">defaultConfiguration</span><span class="w"> </span><span class="s1">&#39;dexguard-release-aggressive.pro&#39;</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">            </span><span class="n">configuration</span><span class="w"> </span><span class="s1">&#39;dexguard-project.txt&#39;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">            </span><span class="c1">// Extra espresso test configuration</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">            </span><span class="n">defaultConfiguration</span><span class="w"> </span><span class="s1">&#39;dexguard-espresso.pro&#39;</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">            </span><span class="n">configuration</span><span class="w"> </span><span class="s1">&#39;dexguard-project-test.txt&#39;</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">        </span><span class="o">...</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="o">}</span>
</span></code></pre></div></p>
<p>The Dexguard Gradle plugin includes two tasks that create the necessary artefacts to run the test.
These are <code>assembleAndroidTest</code> and <code>dexguardBundleAndroidTest</code> for APKs and AABs respectively.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using AGP &lt; 7.2, you will have to prevent <a href="../troubleshooting/knownissues.html#preserveruntimeinvisibleannotations">the Android build tools from stripping Espresso
annotations</a>,
<a href="#install-both-applications-to-a-test-device-or-emulator">install</a> and
<a href="#execute-the-espresso-tests">run</a> the tests manually.</p>
</div>
<h2 id="using-dexguard-in-standalone-mode">Using DexGuard in standalone mode<a class="headerlink" href="#using-dexguard-in-standalone-mode" title="Permanent link">&para;</a></h2>
<p>When executing DexGuard outside of the build process you will have to perform
the following actions:</p>
<ol>
<li>Build your application.</li>
<li>Build the test application.</li>
<li>Process your application using DexGuard and print out the mapping file.</li>
<li>Process the test application using DexGuard and the Espresso conifguration.</li>
<li>Install both applications to a test device or emulator.</li>
<li>Execute the Espresso tests.</li>
</ol>
<h3 id="build-your-application">Build your application<a class="headerlink" href="#build-your-application" title="Permanent link">&para;</a></h3>
<p>You can build your application using the <code>assemble</code> Gradle task for building an APK
and <code>bundle</code> for building an AAB. These tasks will
build all variants of your application, if you only want to build a single
variant, append the name of the variant to the end. For example, <code>assembleRelease</code> 
to build only the release variant of your APK.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="linuxmacos" name="__tabbed_1" type="radio" /><input id="windows" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="linuxmacos">Linux/macOS</label><label for="windows">Windows</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>./gradlew<span class="w"> </span>assembleRelease
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bat highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>gradlew assembleRelease
</span></code></pre></div>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you use Espresso annotations and AGP &lt; 7.2, you will have to make sure they are not
stripped by the Android build tools while building your application. DexGuard
cannot see the annotations otherwise, which may result in exceptions at runtime.
Please visit <strong><a href="../troubleshooting/knownissues.html#preserveruntimeinvisibleannotations">this page</a></strong> 
for more information.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When building an AAB, you will have to build a universal apk using 
<a href="https://developer.android.com/studio/command-line/bundletool">bundletool</a> from your protected
AAB.</p>
</div>
<h3 id="build-the-test-application">Build the test application<a class="headerlink" href="#build-the-test-application" title="Permanent link">&para;</a></h3>
<p>The test application is a special test variant derived from the one you want to
test. As such, you can build it like any other variant of your application. The
name of this test variant is the name of the base variant appended with
<code>androidTest</code>. For example, <code>releaseAndroidTest</code> for the release variant.</p>
<p>This test variant will build an application containing your Espresso tests, it
will be installed alongside your actual application. Upon opening this test
application it will open up the application it's supposed to test and performs
the actions described in the tests, reporting the results.</p>
<p>Building this test variant is done by calling its <code>assemble</code> task. If you are
testing your debug build this would look something like this:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="linuxmacos_1" name="__tabbed_2" type="radio" /><input id="windows_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="linuxmacos_1">Linux/macOS</label><label for="windows_1">Windows</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>./gradlew<span class="w"> </span>assembleDebugAndroidTest
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bat highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>gradlew assembleDebugAndroidTest
</span></code></pre></div>
</div>
</div>
</div>
<p>The resulting apk can be found in the <code>build/outputs/androidTest</code> directory.</p>
<h3 id="process-your-application-with-dexguard-and-print-out-the-mapping-file">Process your application with DexGuard and print out the mapping file<a class="headerlink" href="#process-your-application-with-dexguard-and-print-out-the-mapping-file" title="Permanent link">&para;</a></h3>
<p>In this step you process your application as you normally would as described
earlier on this page. When you want to test the resulting apk using Espresso
you need to keep two things in mind, however.</p>
<ul>
<li>You need to print out the mapping file. This file will be used when
  processing the test application to rename the calls in this application to
  the obfuscated name.</li>
<li>You need to sign it so it can be installed on the test device or emulator.
  Signing it with the default debug keystore works perfectly fine.</li>
</ul>
<div class="language-dexguard highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nb">-printmapping </span><span class="err">mapping.txt</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nb">-keystore </span><span class="err">&lt;user.home&gt;/.android/debug.keystore</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="nb">-keystorepassword</span> <span class="kt">android</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nb">-keyalias</span> <span class="kt">androiddebugkey</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="nb">-keypassword</span> <span class="kt">android</span>
</span></code></pre></div>
<h3 id="process-the-test-application-using-dexguard-and-the-espresso-configuration">Process the test application using DexGuard and the Espresso configuration<a class="headerlink" href="#process-the-test-application-using-dexguard-and-the-espresso-configuration" title="Permanent link">&para;</a></h3>
<p>Processing the test application is straight-forward and will require no
custom configuration in almost all cases. The configuration is similar to that
of a normal application except for the default configuration and some
additional requirements.</p>
<p>The default configuration used is <code>dexguard-espresso-internal.pro</code>. This
will configure DexGuard to perform some adaptations to match the
application under test. Apart from that, minimal processing is performed to
prevent any major structural changes to your test code.</p>
<p>The additional requirements are the following:</p>
<ul>
<li>The unobfuscated main application (APK or AAB) has to be passed in as a library jar to
  DexGuard since the test application depends on it.</li>
<li>An <a href="../usage.html#applymapping"><code>-applymapping</code></a> rule has to be added using the
  mapping file of the main application so calls into the main application code
  can be renamed consistently.</li>
<li>The apk needs to be signed so it can be installed. The Android build chain
  will use the default debug keystore, so we suggest doing the same.</li>
</ul>
<p>Example:
<div class="language-dexguard highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nb">-injars </span><span class="err">path/to/my-application-androidTest.apk</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nb">-outjars </span><span class="err">path/to/obfuscated-application-androidTest.apk</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="nb">-libraryjars </span><span class="err">path/to/my-application.apk</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="nb">-libraryjars </span><span class="err">/path/to/android/sdk/platforms/android-XX/android.jar</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="nb">-include </span><span class="err">/lib/dexguard-espresso-internal.pro</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="nb">-applymapping </span><span class="err">path/to/mapping.txt</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="nb">-keystore </span><span class="err">&lt;user.home&gt;/.android/debug.keystore</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="nb">-keystorepassword</span> <span class="kt">android</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="nb">-keyalias</span> <span class="kt">androiddebugkey</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="nb">-keypassword</span> <span class="kt">android</span>
</span></code></pre></div></p>
<h2 id="test-the-application-using-the-generated-artefacts">Test the application using the generated artefacts<a class="headerlink" href="#test-the-application-using-the-generated-artefacts" title="Permanent link">&para;</a></h2>
<h3 id="install-both-applications-to-a-test-device-or-emulator">Install both applications to a test device or emulator<a class="headerlink" href="#install-both-applications-to-a-test-device-or-emulator" title="Permanent link">&para;</a></h3>
<p>Installing a local apk to a connected device or emulator can easily be done
using <code>adb</code>, which comes with the Android SDK:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="linuxmacos_2" name="__tabbed_3" type="radio" /><input id="windows_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="linuxmacos_2">Linux/macOS</label><label for="windows_2">Windows</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>path/to/android/sdk/platform-tools/adb<span class="w"> </span>install<span class="w"> </span>path/to/obfuscated-application.apk
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>path/to/android/sdk/platform-tools/adb<span class="w"> </span>install<span class="w"> </span>path/to/obfuscated-application-androidTest.apk
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bat highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">path</span>\to\android\sdk\platform-tools\adb install path\to\obfuscated-application.apk
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">path</span>\to\android\sdk\platform-tools\adb install path\to\obfuscated-application-androidTest.apk
</span></code></pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the DexGuard Gradle plugin, a universal APK will have been generated from your obfuscated AAB.
This APK will be located in the same build directory as your AAB with <code>-universal</code> in the name. It is this 
APK that needs to be installed in this step.</p>
</div>
<h3 id="execute-the-espresso-tests">Execute the Espresso tests<a class="headerlink" href="#execute-the-espresso-tests" title="Permanent link">&para;</a></h3>
<p>Executing the Espresso tests call also be done via <code>adb</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="linuxmacos_3" name="__tabbed_4" type="radio" /><input id="windows_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="linuxmacos_3">Linux/macOS</label><label for="windows_3">Windows</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>path/to/android/sdk/platform-tools/adb<span class="w"> </span>shell<span class="w"> </span>am<span class="w"> </span>instrument<span class="w"> </span>-w<span class="w"> </span>my.package.name.test/android.support.test.runner.AndroidJUnitRunner
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bat highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">path</span>\to\android\sdk\platform-tools\adb shell am instrument -w my.package.name.test/android.support.test.runner.AndroidJUnitRunner
</span></code></pre></div>
</div>
</div>
</div>
<p>The <code>-w</code> argument makes it so the process waits to return until it's finished,
this is <strong>required</strong> for test runners. The following argument is the test
runner, starting with the <strong>package name</strong> (or <strong>application ID</strong>) of the
<strong>test application</strong>. This is by default the package name of the main
application appended with <code>.test</code>. After that is a <code>/</code> followed by
<strong>fully qualified class name</strong> of the <strong>test runner</strong> to use to run the tests.
This is by default the <code>android.support.test.runner.AndroidJUnitRunner</code>, but if
you can also use a custom one.</p>
<p>For more information on this process, refer to the
<a href="https://developer.android.com/studio/test/command-line#RunTestsDevice">official documentation</a>.</p>
<h3 id="uninstall-the-applications">Uninstall the applications<a class="headerlink" href="#uninstall-the-applications" title="Permanent link">&para;</a></h3>
<p>This step is optional, but if you want to uninstall the applications when you
are done with the tests, you can again use <code>adb</code> for this purpose:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="linuxmacos_4" name="__tabbed_5" type="radio" /><input id="windows_4" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="linuxmacos_4">Linux/macOS</label><label for="windows_4">Windows</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>path/to/android/sdk/platform-tools/adb<span class="w"> </span>uninstall<span class="w"> </span>my.package.name
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>path/to/android/sdk/platform-tools/adb<span class="w"> </span>uninstall<span class="w"> </span>my.package.name.test
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bat highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">path</span>\to\android\sdk\platform-tools\adb uninstall my.package.name
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">path</span>\to\android\sdk\platform-tools\adb uninstall my.package.name.test
</span></code></pre></div>
</div>
</div>
</div>
<p>As you can see, the <code>uninstall</code> command takes in the package name of the
application you want to uninstall.</p>
<h2 id="best-practices">Best practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<p>Even though DexGuard does not alter the functionality and intended behavior of
your application, it does change the internal structure quite a bit due to the
optimizations and layers of protection it applies. This means some care should
be taken when creating your Espresso tests. This section will go over our
recommendations to lower the amount of additional configuration needed and keep
the obfuscation of the application you are testing as close to the final
product as possible.</p>
<p>The general idea is to start from working tests without applying DexGuard to
your application. After that, try to run the tests with DexGuard applied but
without any additional configuration. If they do not succeed, it means DexGuard
broke them and you'll either have to rework your test code to be less dependent
on the application code or extend the configuration for the application under
test.</p>
<div class="admonition warning">
<p class="admonition-title">Test configuration</p>
<p>Many of the suggestions below will mention adding additional configuration
for the application that's being tested. These additional rules and default
configurations should <strong>only</strong> be applied when testing your app using
Espresso, they <strong>should not</strong> be applied when creating the application
you are going to ship since they <strong>weaken</strong> the obfuscation to allow the
tests to do their work.</p>
</div>
<h3 id="test-code">Test code<a class="headerlink" href="#test-code" title="Permanent link">&para;</a></h3>
<p>Espresso is a framework that allows you to emulate user input and verify the
current state of the user interface. This means it's actually very forgiving
with regards to the various optimization and obfuscation techniques DexGuard
applies. There are some problematic cases, of course.</p>
<p><strong>Using classes from the application in your tests should be avoided as much as possible.</strong>
As stated earlier, DexGuard will apply optimizations and obfuscations that can
drastically change the way your code looks internally. Our default
configuration for the Espresso tests makes the obfuscation less of an issue but
it's not perfect and the optimizations will almost certainly cause problems.</p>
<p>We are aware that this is not always possible and there are ways around this.
This is generally not ideal, as you want to avoid additional configuration. For
this reason we do stress that you try to avoid this as much as you can.</p>
<p>Possible solutions include:</p>
<ul>
<li>Copy the class or method you want to use. This is really only advised if they
  are small and not likely to change.</li>
<li>Create dedicated methods used in tests only. These methods are guaranteed to
  be removed by DexGuard in your actual release and can be kept using the rule
  below.</li>
</ul>
<div class="language-dexguard highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nb">-keepclassmembers</span><span class="w"> </span><span class="kd">class </span><span class="nc">classname</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="p">{</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    <span class="kt">returntype</span> <span class="nf">methodname</span><span class="p">(</span><span class="kt">parametertypes</span><span class="p">);</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>Add additional rules to keep any relevant code or disable any problematic
  optimizations. You can read more about the various optimizations that can be
  disabled on the <a href="../indepth/optimizations.html">optimizations</a> page.</li>
<li>Use a <a href="#default-configurations">default test configuration</a>. Depending on the
  configuration you choose, several classes will be kept and/or optimizations
  will be disabled. If the problem persists you'll likely have to add a custom
  keep rule.</li>
</ul>
<h3 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h3>
<p>DexGuard also processes the various resources that are used in your
application, which means this can cause problems if you try to refer to them
from your test code. Just as with code,
<strong>try to avoid referring to application resources in your test code</strong>.</p>
<p>If this is not possible, try running your tests to see if there are any issues.
If there are, you can try any of the following suggestions:</p>
<ul>
<li>Use the
  <a href="#dexguard-espresso-no-resource-optimizationspro"><code>dexguard-espresso-no-resource-optimizations.pro</code></a>
  default test configuration.</li>
<li>Keep the problematic resources using the
  <a href="../usage.html#keepresources"><code>-keepresources</code></a> rule.</li>
</ul>
<h3 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h3>
<p>When building the tests the Android gradle plugin will treat the dependencies
shared by the application and its tests as compile only dependencies, meaning
they won't end up packaged in the test application. This saves space and in
normal circumstances isn't an issue as the dependencies will be available in
the application under test.</p>
<p>However, when using DexGuard this no longer holds true because of its
shrinking. If the application does not use a class that the tests do use, it
will be removed during the shrinking step from the main application. Here are
some suggestions to resolve these issues if they occur:</p>
<ul>
<li>Try to avoid sharing dependencies between your application and its tests. In
  general this shouldn't be too much of an issue, but there are some common
  cases where this is not possible.</li>
<li>Add keep rules for the missing classes.</li>
</ul>
<h2 id="default-configurations">Default configurations<a class="headerlink" href="#default-configurations" title="Permanent link">&para;</a></h2>
<p>DexGuard provides a few default configurations you can include for applicaton
builds you are going to test using Espresso. These configurations have a
specific purpose and are <strong>independent</strong> of each other, meaning you can use
multiple at the same time. The available default configurations are explained
in more detail below.</p>
<h3 id="dexguard-espressopro"><code>dexguard-espresso.pro</code><a class="headerlink" href="#dexguard-espressopro" title="Permanent link">&para;</a></h3>
<p>This is the basic configuration needed to run Espresso tests on an application
that is obfuscated by DexGuard. It also offers support for the
<code>@VisibleForTesting</code> annotation which will prevent annotated classes or members
from being obfuscated, shrunk or optimized in order to be accessed by tests.</p>
<div class="language-dexguard highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nb">-include </span><span class="err">/lib/dexguard-espresso.pro</span>
</span></code></pre></div>
<h3 id="dexguard-espresso-no-resource-optimizationspro"><code>dexguard-espresso-no-resource-optimizations.pro</code><a class="headerlink" href="#dexguard-espresso-no-resource-optimizationspro" title="Permanent link">&para;</a></h3>
<p>Using this default configuration makes using resources in your test code a
non-issue. It disables all resource related optimizations so everything your
tests expect to find should still be there with their original ids.</p>
<div class="language-dexguard highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nb">-include </span><span class="err">/lib/dexguard-espresso-no-resource-optimizations.pro</span>
</span></code></pre></div>
<h3 id="dexguard-espresso-aggressive-optimizationspro"><code>dexguard-espresso-aggressive-optimizations.pro</code><a class="headerlink" href="#dexguard-espresso-aggressive-optimizationspro" title="Permanent link">&para;</a></h3>
<p>This default configuration disables all less invasive code optimizations. These
should be sufficient when your tests only access a small portion of the
application code. The optimizations that are disabled are:</p>
<ul>
<li><code>field/marking/private</code></li>
<li><code>method/marking/private</code></li>
<li><code>method/marking/static</code></li>
<li><code>method/marking/final</code></li>
<li><code>method/inlining/short</code></li>
<li><code>method/inlining/unique</code></li>
</ul>
<div class="language-dexguard highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nb">-include </span><span class="err">/lib/dexguard-espresso-aggressive-optimizations.pro</span>
</span></code></pre></div>
<h3 id="dexguard-espresso-safe-optimizationspro"><code>dexguard-espresso-safe-optimizations.pro</code><a class="headerlink" href="#dexguard-espresso-safe-optimizationspro" title="Permanent link">&para;</a></h3>
<p>This is an extension of the
<a href="#dexguard-espresso-aggressive-optimizationspro"><code>dexguard-espresso-aggressive-optimizations.pro</code></a>
configuration and disables more optimizations. The optimizations in question
are responsible for most drastic changes in code structure and using this
configuration should allow you to access all of your application code from your
tests. The optimizations that are disabled <strong>in addition</strong> to the ones
mentioned above are:</p>
<ul>
<li><code>class/merging/vertical</code></li>
<li><code>class/merging/horizontal</code></li>
<li><code>class/merging/wrapper</code></li>
<li><code>field/generalization/class</code></li>
<li><code>method/generalization/class</code></li>
<li><code>field/sepcialization/type</code></li>
<li><code>method/sepcialization/parametertype</code></li>
<li><code>method/sepcialization/returntype</code></li>
<li><code>field/propagation/value</code></li>
<li><code>method/propagation/parameter</code></li>
<li><code>method/propagation/returnvalue</code></li>
</ul>
<div class="language-dexguard highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nb">-include </span><span class="err">/lib/dexguard-espresso-safe-optimizations.pro</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The configuration <code>dexguard-espresso-safe-optimizations.pro</code> is a superset
of <code>dexguard-espresso-aggressive-optimizations.pro</code>. This means you should
not include both at the same time. They can be combined with the other
default configurations, just not with each other.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Guardsquare
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/guardsquare" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/guardsquare-nv" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/guardsquare" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "search.suggest"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.caa56a14.min.js"></script>
      
    
  </body>
</html>